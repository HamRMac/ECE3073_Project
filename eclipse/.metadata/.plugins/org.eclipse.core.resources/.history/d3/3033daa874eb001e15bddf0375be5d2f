#include "sys/alt_stdio.h"
#include <io.h>
#include <system.h>

// Define SDRAM BASE
#define SDRAM_BASEADDR 0x2000000
// Define VGA Characteristics
#define VGA_HOR_PIX 640
#define VGA_HOR_TOT 800
#define VGA_VER_PIX 480
#define VGA_VER_TOT 525
#define VGA_MAX_PIX 420000


/* Use system defines
 * PB_ADR_BASE
 * PB_DATA_BASE
 * SW_IN_BASE
 * LEDR_OUT_BASE
 * KEY_IN_BASE
 */
int main()
{ 
  alt_putstr("Begin VGA\n");

  /* Event loop never exits. */
  int col;
  while (1) {
	  col = 0;
	  for (int i = 0; i < 640; i++) {
		  IOWR_32DIRECT(PB_ADR_BASE,0,i);
		  IOWR_32DIRECT(PB_DATA_BASE,0,15);
		  col++;
		  if (col == 16) {
			  col = 0;
		  }
	  }
  }

  return 0;
}
